<%- include ../partials/header.ejs %>
<%- include ../partials/main_nav.ejs %>

<main class="container py-4">

  <h1 class="mb-4 fw-bold"><%= title %></h1>

  <!-- Add button -->
  <a href="/fishs/add" class="btn btn-primary mb-3">
    <i class="fas fa-plus-circle"></i> Add a Fish
  </a>

  <!-- Responsive table container -->
  <div class="table-responsive">
    <table class="table table-bordered table-hover align-middle text-center">

      <thead class="table-dark">
        <tr>
          <th>Fish</th>
          <th>Location</th>
          <th>Bait</th>
          <th>Time</th>
          <th>Caught?</th>
          <th style="width: 180px;">Actions</th>
        </tr>
      </thead>

      <tbody>
        <% FishList.forEach(fish => { %>
          <tr>
            <td><%= fish.fishName %></td>
            <td><%= fish.location %></td>
            <td><%= fish.bait %></td>
            <td><%= fish.time %></td>
            <td>
              <% if (fish.caught) { %>
                <span class="badge bg-success">Yes</span>
              <% } else { %>
                <span class="badge bg-secondary">No</span>
              <% } %>
            </td>

            <td>
              <a href="/fishs/edit/<%= fish._id %>" class="btn btn-primary btn-sm me-2">
                <i class="fas fa-pencil-alt"></i> Edit
              </a>

              <a href="/fishs/delete/<%= fish._id %>"
                 class="btn btn-danger btn-sm"
                 onclick="return confirm('Release this fish?');">
                <i class="fas fa-trash-alt"></i> Delete
              </a>
            </td>
          </tr>
        <% }); %>
      </tbody>

    </table>
  </div>

</main>

<%- include ../partials/footer.ejs %>
